<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>è§£é”æŠ¥å‘Š Â· å¤§å¥³ä¸»æ˜¾åŒ–</title>
  <style>
    body {
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Microsoft YaHei",sans-serif;
      background:linear-gradient(135deg,#ff9ac9,#ffc0d9);
      padding:40px 0;
    }
    .wrap { max-width:800px; margin:0 auto; }
    .card {
      background:#fff;
      border-radius:24px;
      padding:28px 34px;
      box-shadow:0 18px 40px rgba(0,0,0,0.08);
    }
    h1 { margin-top:0; color:#e21c72; font-size:24px; }
    p { color:#444; line-height:1.7; }
    textarea {
      width:100%;
      min-height:100px;
      border-radius:12px;
      border:1px solid #ffd1ea;
      padding:8px 10px;
      font-family:inherit;
      resize:vertical;
      margin-top:6px;
      box-sizing:border-box;
    }
    input[type="text"] {
      width:100%;
      border-radius:999px;
      border:1px solid #ffd1ea;
      padding:10px 14px;
      margin-top:6px;
      box-sizing:border-box;
    }
    .form-group { margin-top:18px; }
    .radio-group label {
      display:block;
      margin-top:6px;
      cursor:pointer;
      font-size:14px;
      color:#555;
    }
    .btn-row { margin-top:24px; text-align:center; }
    .btn {
      padding:12px 30px;
      border-radius:999px;
      border:none;
      background:linear-gradient(90deg,#ff4fa8,#ff7bd1);
      color:#fff;
      font-weight:600;
      cursor:pointer;
    }
    .error { color:#e53935; margin-top:10px; font-size:14px; }
    .hint { font-size:13px; color:#777; margin-top:6px; }
    .pay-btn {
      margin-top:10px;
      padding:8px 16px;
      border-radius:999px;
      border:none;
      background:#ffe5f3;
      color:#d81b60;
      cursor:pointer;
      font-size:13px;
      display:none; /* é»˜è®¤éšè—ï¼Œå‹¾é€‰â€œå»ä»˜æ¬¾â€æ‰æ˜¾ç¤º */
    }
    #invite-group {
      display:none; /* é»˜è®¤éšè—ï¼Œå‹¾é€‰â€œæˆ‘æœ‰é‚€è¯·ç â€æ‰æ˜¾ç¤º */
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>è§£é”ä½ çš„å¤§å¥³ä¸»æ˜¾åŒ–æŠ¥å‘Š</h1>
      <p>æˆ‘ä»¬å·²ç»å®Œæˆäº†èº«å¿ƒå¯¹è¯ã€‚æ¥ä¸‹æ¥ï¼Œè¯·å…ˆå®Œæˆè§£é”ï¼Œå†è¿›å…¥ä¸‹ä¸€æ­¥å¡«å†™é‚®ç®±å¹¶æ¥æ”¶æŠ¥å‘Šã€‚</p>

      <form method="post">
        <!-- 1. è¡¥å……å†…å®¹ -->
        <p>å¦‚æœä½ è¿˜æƒ³è¡¥å……ä¸€ä¸¤å¥ï¼Œä¹Ÿå¯ä»¥å†™åœ¨è¿™é‡Œï¼›å¦‚æœä¸æƒ³ï¼Œå¯ä»¥ç•™ç©ºã€‚</p>
        <textarea name="extra" placeholder="ä½ æƒ³å¯¹è‡ªå·±ã€å¯¹æˆ‘ã€å¯¹å®‡å®™å†å¤šè¯´ä¸€ç‚¹ä»€ä¹ˆå—ï¼Ÿ">{{ extra or '' }}</textarea>

        <!-- 2. è§£é”æ–¹å¼ -->
        <div class="form-group">
          <p style="color:#e21c72; font-weight:600;">
            è¯·é€‰æ‹©è§£é”æ–¹å¼ï¼šæ”¯ä»˜ {{ REPORT_PRICE if REPORT_PRICE is defined else 59 }} å…ƒæˆ–ä½¿ç”¨é‚€è¯·ç ã€‚
          </p>
          <div class="radio-group">
            <label>
              <input type="radio" name="unlock_method" value="paid" id="radio-paid">
              å»ä»˜æ¬¾
            </label>

            <!-- ä»˜æ¬¾æŒ‰é’®ï¼šåªæœ‰å‹¾é€‰â€œå»ä»˜æ¬¾â€åæ‰æ˜¾ç¤º -->
            <button type="button" class="pay-btn" id="pay-btn">
              å»ä»˜æ¬¾ / è·³è½¬æ”¯ä»˜å®
            </button>

            <label style="margin-top:12px;">
              <input type="radio" name="unlock_method" value="code" id="radio-code">
              æˆ‘æœ‰é‚€è¯·ç 
            </label>
          </div>
        </div>

        <!-- 3. é‚€è¯·ç è¾“å…¥ï¼šåªåœ¨â€œæˆ‘æœ‰é‚€è¯·ç â€è¢«å‹¾é€‰æ—¶å±•ç¤º -->
        <div class="form-group" id="invite-group">
          <label for="invite_code">é‚€è¯·ç ï¼š</label>
          <input type="text" name="invite_code" id="invite_code">
          <div class="hint">
            æç¤ºï¼šé‚€è¯·ç ç”±ä¸»ç†äººå‘æ”¾ï¼›æ²¡æœ‰é‚€è¯·ç æ—¶ï¼Œå¯å…ˆå®Œæˆ {{ REPORT_PRICE if REPORT_PRICE is defined else 59 }} å…ƒæ”¯ä»˜ã€‚
          </div>
        </div>

        {% if error %}
          <div class="error">{{ error }}</div>
        {% endif %}

        <div class="btn-row">
          <button type="submit" class="btn">å·²å®Œæˆè§£é”ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥å¡«å†™é‚®ç®± ğŸ’Œ</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // ç®€å•çš„å‰ç«¯äº¤äº’æ§åˆ¶
    const radioPaid = document.getElementById('radio-paid');
    const radioCode = document.getElementById('radio-code');
    const payBtn = document.getElementById('pay-btn');
    const inviteGroup = document.getElementById('invite-group');

    function updateUI() {
      if (radioPaid.checked) {
        payBtn.style.display = 'inline-block';
      } else {
        payBtn.style.display = 'none';
      }

      if (radioCode.checked) {
        inviteGroup.style.display = 'block';
      } else {
        inviteGroup.style.display = 'none';
      }
    }

    radioPaid.addEventListener('change', updateUI);
    radioCode.addEventListener('change', updateUI);

    // æ”¯ä»˜æŒ‰é’®ç‚¹å‡»ï¼šè·³è½¬åˆ°æ”¯ä»˜å®å¼€æ”¾å¹³å°ï¼ˆè¿™é‡Œä½ å¯ä»¥æ¢æˆè‡ªå·±çš„æ”¶æ¬¾é“¾æ¥ï¼‰
    payBtn.addEventListener('click', function () {
      // TODO: æŠŠä¸‹é¢è¿™ä¸ªåœ°å€æ¢æˆä½ åœ¨æ”¯ä»˜å®å¼€æ”¾å¹³å°ç”³è¯·åˆ°çš„æ”¶æ¬¾é“¾æ¥
      window.open('https://www.alipay.com', '_blank');
    });

    // åˆå§‹çŠ¶æ€åˆ·æ–°ä¸€æ¬¡
    updateUI();
  </script>
</body>
</html>